<!DOCTYPE html>
<html>
  <head>
    <title>IntersectionObserver 图片懒加载</title>
    <style>
      .lazy-image {
        width: 300px;
        height: 200px;
        background-color: #ccc;
        margin-bottom: 20px;
      }
    </style>
  </head>
  <body>
    <h1>IntersectionObserver 图片懒加载</h1>
    <div class="lazy-image" data-src="image1.jpg"></div>
    <div class="lazy-image" data-src="image2.jpg"></div>
    <div class="lazy-image" data-src="image3.jpg"></div>
    <div class="lazy-image" data-src="image4.jpg"></div>
    <div class="lazy-image" data-src="image5.jpg"></div>
    <script>
      const observer = new IntersectionObserver((entries) => {
        entries.forEach((entry) => {
          console.log(entry);
          if (entry.isIntersecting) {
            const img = entry.target;
            img.src = img.dataset.src;
            observer.unobserve(img);
          }
        });
      });
      const lazyImages = document.querySelectorAll(".lazy-image");
      lazyImages.forEach((img) => {
        observer.observe(img);
      });
    </script>
  </body>
</html>
